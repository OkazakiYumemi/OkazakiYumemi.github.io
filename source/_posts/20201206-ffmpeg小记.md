---
title: ffmpeg 小记
categories: 技术
urlname: ffmpeg-小记
date: 2020-12-06 16:19:52
tags: 配置
top:
---

被 myy 送退役了，于是这个 blog 以后可能大部分都是这些内容了。

<!-- more -->

## 安装

首先安装。Linux 用户显然会自己搞。Windows 人得去下编译好的包，~~`gyan.dev`和`BtbN`不知道有什么区别~~。

然后`ffmpeg --help`就可以看到简短的帮助了。想看到完整的帮助可以`ffmpeg -h full`（长约 1MB 警告）。

## 简要介绍

咕了。

## 使用例

### `curl`下载网课（分段`.ts`）并用`ffmpeg`合并

我比较菜找不到`.m3u8`，然后恰好某网站的`.ts`又是顺序排列的，于是直接请求到返回`404`为止，再`ffmpeg`合并就好了。

~~颇具 oi 风格的码风，坏~~

```bash
#!/bin/bash
S="https://example.com/"
rm list.in

for ((i=0;$i<=9999;i+=1))
do
    j=$((i+10000))""
    j=${j:1:4}
    # echo $j
    info=`curl -I $S$j.ts`
    code=`echo $info|grep "HTTP"|awk '{print $2}'`
    if [ "$code" == "200" ];
    then
        curl -O $S$j.ts
        echo file \'$j.ts\' >> list.in
    fi
done

ffmpeg -f concat -i list.in demo.mp4
```